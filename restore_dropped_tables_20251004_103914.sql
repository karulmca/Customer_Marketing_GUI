-- Database Table Restoration Script
-- Generated on: 2025-10-04T10:39:11.026966
-- 
-- This script can recreate the tables that were dropped by cleanup_unused_tables.py
-- Only run this if you need to restore the dropped tables

-- Recreate api_usage table\nCREATE TABLE IF NOT EXISTS api_usage (\n    id CHARACTER VARYING NOT NULL DEFAULT (gen_random_uuid())::text,\n    user_id CHARACTER VARYING,\n    api_endpoint CHARACTER VARYING,\n    method CHARACTER VARYING,\n    status_code INTEGER,\n    response_time INTEGER,\n    request_size INTEGER,\n    response_size INTEGER,\n    created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Recreate companies table\nCREATE TABLE IF NOT EXISTS companies (\n    id CHARACTER VARYING NOT NULL DEFAULT (gen_random_uuid())::text,\n    processing_job_id CHARACTER VARYING,\n    user_id CHARACTER VARYING,\n    company_name CHARACTER VARYING,\n    website CHARACTER VARYING,\n    linkedin_url CHARACTER VARYING,\n    status CHARACTER VARYING DEFAULT 'pending'::character varying,\n    created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Recreate company_results table\nCREATE TABLE IF NOT EXISTS company_results (\n    id CHARACTER VARYING NOT NULL DEFAULT (gen_random_uuid())::text,\n    company_id CHARACTER VARYING,\n    processing_job_id CHARACTER VARYING,\n    user_id CHARACTER VARYING,\n    company_name CHARACTER VARYING,\n    website_url TEXT,\n    linkedin_url TEXT,\n    company_size CHARACTER VARYING,\n    industry CHARACTER VARYING,\n    headquarters CHARACTER VARYING,\n    founded_year INTEGER,\n    company_type CHARACTER VARYING,\n    specialties TEXT,\n    about_company TEXT,\n    employee_count CHARACTER VARYING,\n    revenue_estimate CHARACTER VARYING,\n    scraped_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    data_source CHARACTER VARYING DEFAULT 'linkedin'::character varying,\n    raw_data JSONB,\n    scraping_status CHARACTER VARYING DEFAULT 'completed'::character varying\n);\n\n-- Recreate excel_files table\nCREATE TABLE IF NOT EXISTS excel_files (\n    id CHARACTER VARYING NOT NULL DEFAULT (gen_random_uuid())::text,\n    user_id CHARACTER VARYING,\n    filename CHARACTER VARYING NOT NULL,\n    original_filename CHARACTER VARYING,\n    file_path TEXT,\n    file_size BIGINT,\n    upload_status CHARACTER VARYING DEFAULT 'uploaded'::character varying,\n    created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    processed_at TIMESTAMP WITHOUT TIME ZONE\n);\n\n-- Recreate processing_logs table\nCREATE TABLE IF NOT EXISTS processing_logs (\n    id CHARACTER VARYING NOT NULL DEFAULT (gen_random_uuid())::text,\n    processing_job_id CHARACTER VARYING,\n    log_level CHARACTER VARYING DEFAULT 'INFO'::character varying,\n    message TEXT NOT NULL,\n    details JSONB,\n    created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Recreate upload_history table\nCREATE TABLE IF NOT EXISTS upload_history (\n    id INTEGER NOT NULL DEFAULT nextval('upload_history_id_seq'::regclass),\n    file_name CHARACTER VARYING,\n    file_path TEXT,\n    upload_date TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    records_count INTEGER,\n    status CHARACTER VARYING,\n    error_message TEXT,\n    uploaded_by CHARACTER VARYING,\n    file_upload_id INTEGER,\n    processing_duration_seconds INTEGER\n);\n\n